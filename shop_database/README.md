## Zadani

<p>Úkolem je realizovat třídy, které implementují správu skladu v supermarketu.</p><p>Předpokládáme sklad zboží v supermarketu. V tomto skladu se nachází značné množství zboží. Zboží je jednoznačně identifikováno svým jménem (řetězec). Můžete počítat s tím, že většina jmen výrobků má rozumnou délku (např. do 30 znaků). Dále si pro zboží pamatujeme dobu trvanlivosti a počet naskladněných kusů.</p><p>Ve skladu (třídě <tt>CSupermarket</tt>) chceme provádět následující operace, každá operace je implementovaná v metodě:</p><dl><dt>implicitní konstruktor</dt><dd>inicializuje prázdnou instanci skladu,</dd><dt>store ( name, expireDate, cnt )</dt><dd>metoda naskladní zboží. Zboží je identifikované svým jménem (<tt>name</tt>), dobou trvanlivosti (<tt>expireDate</tt>) a počtem kusů (<tt>cnt</tt>). Je možné, že později naskladněné zboží může mít kratší trvanlivost než zboží naskladněné dříve (a to i pro zboží téhož jména).</dd><dt>sell ( list )</dt><dd>metoda realizuje nákup. Parametrem je nákupní seznam typu <tt>list&lt;pair&lt;string,int&gt;&gt;</tt>, který obsahuje názvy zboží a požadovaný počet. Metoda projde sklad, zjistí dostupnost zboží, upraví počty zboží ve skladu a upraví nákupní seznam. Metodu komplikuje fakt, že zákazníci nepíší krasopisně a software zajišťující OCR nákupních seznamů některé názvy přečte s chybou. Implementace s tím musí počítat, proto bude při hledání zboží používat následující postup:<ul><li>primárně hledá skladě zboží přesně stejného jména (rozlišujeme i malá/velká písmena),</li><li>pokud neexistuje zboží přesně stejného jména, hledá se zboží, kde se název liší v jednom znaku - překlepu (stále rozlišujeme malá/velká písmena). Pokud se podaří najít právě jedno takové zboží, bude vybráno,</li><li>pokud se nepodaří nalézt (tedy neexistuje žádné zboží lišící se právě v jednom znaku, nebo existuje více různých zboží lišících se v jednom znaku, nebude se vydávat žádné zboží.</li></ul><p>Pokud zboží nalezne, bude metoda <tt>sell</tt> vydávat vždy zboží od nejstaršího (nejdříve se zbavuje zboží s nejmenší dobou trvanlivosti). Pokud je na skladě dostatečné množství zboží, metoda jej vydá a odstraní položku z nákupního seznamu. Pokud na skladě není dostatečné množství zboží, metoda vydá dostupné množství a o toto množství sníží počet v nákupním seznamu.</p><p>Při nakupování postupuje metoda "transakčně": nejprve pro každé zboží na seznamu rozhodne, zda zboží existuje (zda jej nalezne ve skladu, případně jednoznačně nalezne zboží lišící se jen v jednom znaku názvu) a teprve následně začne zboží ze skladu vydávat a aktualizovat nákupní seznam. Toto chování je demonstrované v konci ukázkového běhu, kdy při nákupu koka-koly (seznam <tt>l10</tt>) název <tt>Cake</tt> není jednoznačný, pro následný prodej (po vyprodání <tt>cake</tt>) již ale jednoznačný je. Na ukázce se seznamem <tt>l14</tt> je pak vidět, že nákupní seznam je při výdeji zboží upravován v pořadí od první k poslední položce.</p></dd><dt>expired ( date )</dt><dd>metoda zjistí seznam zboží, kterému skončí doba trvanlivosti před zadaným datem. Výsledkem je seznam se jménem zboží a s počtem kusů, kde trvanlivost končí před zadaným datem. Zboží ve výsledném seznamu je seřazené podle počtu kusů sestupně (pokud je v seznamu více druhů prošlého zboží se stejným počtem kusů, pak pro takové zboží není určené vzájemné pořadí).</dd></dl><p>Odevzdávejte zdrojový kód s implementací třídy <tt>CSupermarket</tt> a <tt>CDate</tt>. Za základ implementace použijte přiložený soubor s deklarací metod a se sadou základních testů. Pro implementaci se může hodit doplnit i další pomocné třídy.</p>
